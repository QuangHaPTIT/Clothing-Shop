<app-header></app-header>
<div class="container custom-margin-top">
  <div class="intro-section">
    <h1></h1>
    <p>Sử dụng Bootstrap</p>
  </div>
  <div class="row">
    <div class="col-md-4">
      <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div
            *ngFor="let image of product?.product_images; let i = index"
            class="carousel-item"
            [ngClass]="{ active: i === currentImageIndex }"
          >
            <div class="square-image">
              <img
                [src]="image.image_url"
                class="product-image"
                alt="Product Image"
              />
            </div>
          </div>
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselExample"
          data-bs-slide="prev"
          (click)="previousImage()"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carouselExample"
          data-bs-slide="next"
          (click)="nextImage()"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
      <div class="row">
        <div class="thumbnail-container">
          <div
            *ngFor="let image of product?.product_images; let i = index"
            class="thumbnail-item"
            [ngClass]="{ active: i === currentImageIndex }"
            (click)="thumbnailClick(i)"
          >
            <img
              [src]="image.image_url"
              class="thumbnail-image"
              alt="Thumbnail Image"
            />
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="product-details">
        <h2 class="display-5 fw-bolder">{{ product?.name }}</h2>
        <div class="fs-5 mb-3">
          Giá:
          <span class="text-decoration-line-through"
            >{{ product?.price }}VND</span
          >
          <span class="ms-2">{{ product?.price }}VND</span>
        </div>
        <p>{{ product?.description }}</p>
        <input
          [(ngModel)]="quantity"
          class="form-control text-center me-3"
          min="1"
          id="inputQuantity"
          type="number"
          value="1"
          style="max-width: 4rem"
        />
        <div class="product-actions">
          <button
            (click)="addToCart()"
            class="btn btn-outline-dark flex-shrink-0"
            type="button"
          >
            <i class="bi-cart-fill me-1"></i>
            Thêm vào giỏ hàng
          </button>
          <!-- <button class="btn btn-primary" (click)="addToCart()">Thêm vào giỏ hàng</button> -->
          <button
            class="btn btn-outline-dark flex-shrink-0"
            (click)="buyNow(product?.id ?? 0)"
            type="button"
          >
            Mua ngay
          </button>
        </div>
      </div>

      <div class="d-flex justify-content-center row">
        <div class="d-flex flex-column col-md-11">
          <div class="d-flex flex-row add-comment-section mt-4 mb-4">
            <img
              class="img-fluid img-responsive rounded-circle mr-2"
              src="../../assets/images/users/user1.jpg"
              width="38"
            /><input
              type="text"
              class="form-control mr-3"
              placeholder="Add comment"
              [(ngModel)]="commentContent"
            /><button class="btn btn-primary" type="button" (click)="addComment()">Comment</button>
          </div>
          <div class="coment-bottom bg-white pb-4" *ngFor="let comment of comments; let i = index">
            <div class="commented-section mt-2" >
              <div class="d-flex flex-row align-items-center commented-user">
                <img
                  class="img-fluid img-responsive rounded-circle mr-2"
                  src="../../assets/images/users/user3.jpg"
                  width="30"
                />
                <h5 class="mr-2 name-user">{{comment.user.fullname}}</h5>
              </div>
              <div class="comment-text-sm">
                <span>{{comment.content}}</span>
              </div>
            </div>


          </div>
        </div>
      </div>

      <!-- <div class="container px-4 px-lg-5 my-5">
  <div class="row gx-4 gx-lg-5 align-items-center">
      <div class="col-md-6"><img class="card-img-top mb-5 mb-md-0" src="https://dummyimage.com/600x700/dee2e6/6c757d.jpg" alt="..." /></div>
      <div class="col-md-6">
          <div class="small mb-1">SKU: BST-498</div>
          <h1 class="display-5 fw-bolder">Shop item template</h1>
          <div class="fs-5 mb-5">
              <span class="text-decoration-line-through">$45.00</span>
              <span>$40.00</span>
          </div>
          <p class="lead">Lorem ipsum dolor sit amet consectetur adipisicing elit. Praesentium at dolorem quidem modi. Nam sequi consequatur obcaecati excepturi alias magni, accusamus eius blanditiis delectus ipsam minima ea iste laborum vero?</p>
          <div class="d-flex">
              <input class="form-control text-center me-3" id="inputQuantity" type="num" value="1" style="max-width: 3rem" />
              <button class="btn btn-outline-dark flex-shrink-0" type="button">
                  <i class="bi-cart-fill me-1"></i>
                  Add to cart
              </button>
          </div>
      </div>
  </div>
</div> -->
    </div>
  </div>
</div>
